/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{"use strict";var n,t,e={56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],u=r.base?s[0]+r.base:s[0],l=a[u]||0,p="".concat(u," ").concat(l);a[u]=l+1;var f=e(p),d={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(d);else{var m=o(d,r);r.byIndex=c,t.splice(c,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=e(a[i]);t[c].references--}for(var s=r(n,o),u=0;u<a.length;u++){var l=e(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=s}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},159:(n,t,e)=>{e.d(t,{A:()=>c});var r=e(354),o=e.n(r),a=e(314),i=e.n(a)()(o());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap);"]),i.push([n.id,'/* =========================================================\n   Theme: Green Learning Story App\n   Author: Zaky Yusuf\n   Description: Clean, responsive, green-themed UI\n   ========================================================= */\n\n/* ------------------ Fonts ------------------ */\n\n/* ------------------ Root Variables ------------------ */\n:root {\n  --bg: #f9fdf9;\n  --card: #ffffff;\n  --text: #1b1b1b;\n  --muted: #6b6b6b;\n  --primary: #2e7d32;    /* dark green */\n  --primary-2: #4caf50;  /* medium green */\n  --accent: #81c784;     /* light green */\n  --danger: #e53935;\n  --shadow: 0 6px 18px rgba(34, 34, 34, 0.08);\n  --radius: 12px;\n}\n\n/* ------------------ Base & Reset ------------------ */\n* {\n  box-sizing: border-box;\n}\n\nhtml, body {\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: \'Poppins\', system-ui, -apple-system, \'Segoe UI\', Roboto, \'Helvetica Neue\', Arial;\n  background: var(--bg);\n  color: var(--text);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: 1.45;\n}\n\n/* ------------------ Header ------------------ */\nheader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 12px;\n  padding: 14px 18px;\n  background: linear-gradient(90deg, var(--primary), var(--primary-2));\n  color: #fff;\n  box-shadow: var(--shadow);\n  position: sticky;\n  top: 0;\n  z-index: 40;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.logo img {\n  height: 36px;\n  width: auto;\n}\n\n.site-title {\n  font-weight: 700;\n  font-size: 1.1rem;\n  letter-spacing: 0.2px;\n}\n\n/* Navigation */\n.nav-list {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.nav-list a {\n  color: rgba(255, 255, 255, 0.95);\n  text-decoration: none;\n  padding: 8px 10px;\n  border-radius: 8px;\n  font-weight: 600;\n}\n\n.nav-list a:hover {\n  background: rgba(255, 255, 255, 0.08);\n  outline: none;\n}\n\n/* ------------------ Auth ------------------ */\n.auth-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.auth-welcome {\n  font-size: 0.95rem;\n  margin-right: 6px;\n}\n\n/* Buttons */\n.btn {\n  background: var(--primary-2);\n  border: none;\n  padding: 8px 12px;\n  border-radius: 8px;\n  color: #fff;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background 0.2s ease;\n}\n\n.btn:hover {\n  background: var(--accent);\n}\n\n.btn.small {\n  padding: 6px 8px;\n  font-size: 0.9rem;\n  border-radius: 6px;\n}\n\n.btn.secondary {\n  background: transparent;\n  border: 2px solid rgba(255, 255, 255, 0.18);\n  color: #fff;\n}\n\n.btn.danger {\n  background: var(--danger);\n}\n\n/* ------------------ Layout ------------------ */\n.container {\n  max-width: 1100px;\n  margin: 18px auto;\n  padding: 18px;\n}\n\n.main-content {\n  min-height: 60vh;\n  padding-bottom: 40px;\n}\n\n/* ------------------ Story Cards ------------------ */\n.stories-list {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 14px;\n}\n\n.story-item {\n  background: var(--card);\n  border-radius: var(--radius);\n  padding: 10px;\n  box-shadow: var(--shadow);\n  overflow: hidden;\n  display: flex;\n  gap: 10px;\n  align-items: flex-start;\n  transition: transform 0.2s ease;\n}\n\n.story-item:hover {\n  transform: translateY(-2px);\n}\n\n.story-item img {\n  width: 110px;\n  height: 110px;\n  object-fit: cover;\n  border-radius: 8px;\n}\n\n.story-meta h3 {\n  margin: 0;\n  font-size: 1rem;\n}\n\n.story-meta .desc {\n  margin: 6px 0;\n  color: var(--muted);\n  font-size: 0.95rem;\n}\n\n.story-meta .time {\n  font-size: 0.8rem;\n  color: var(--muted);\n}\n\n/* ------------------ Map Layout ------------------ */\n.map-layout {\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: 12px;\n  align-items: start;\n}\n\n.map-list {\n  background: var(--card);\n  padding: 12px;\n  border-radius: var(--radius);\n  box-shadow: var(--shadow);\n  max-height: 500px;\n  overflow: auto;\n}\n\n.map-story-item {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n}\n\n.map-story-item:focus {\n  outline: 3px solid rgba(76, 175, 80, 0.25);\n}\n\n/* ------------------ Forms ------------------ */\n.form-group {\n  margin-bottom: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\nlabel {\n  font-weight: 600;\n  font-size: 0.95rem;\n}\n\ninput[type="text"],\ninput[type="email"],\ninput[type="password"],\ntextarea,\ninput[type="file"] {\n  padding: 10px;\n  border-radius: 8px;\n  border: 1px solid #e6e6e6;\n  background: #fff;\n}\n\ntextarea {\n  resize: vertical;\n  min-height: 80px;\n}\n\n/* ------------------ Specific Pages ------------------ */\n.add-story-page,\n.login-page,\n.add-story-section {\n  max-width: 920px;\n  margin: 12px auto;\n  background: var(--card);\n  padding: 18px;\n  border-radius: var(--radius);\n  box-shadow: var(--shadow);\n}\n\n/* ------------------ Camera ------------------ */\n#camera-video {\n  width: 100%;\n  border-radius: 8px;\n  display: block;\n}\n\n#camera-canvas {\n  max-width: 100%;\n  border-radius: 8px;\n}\n\n/* ------------------ Accessibility ------------------ */\n.skip-to-content {\n  position: absolute;\n  left: -999px;\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n\n.skip-to-content:focus {\n  left: 10px;\n  top: 10px;\n  background: var(--primary);\n  color: #fff;\n  padding: 8px;\n  border-radius: 6px;\n  z-index: 9999;\n}\n\na:focus,\nbutton:focus,\ninput:focus,\ntextarea:focus {\n  outline: 3px solid rgba(76, 175, 80, 0.18);\n  outline-offset: 2px;\n}\n\n/* ------------------ Transitions ------------------ */\n.fade-in {\n  animation: fadeIn 0.28s ease-in;\n}\n\n.fade-out {\n  opacity: 0.01;\n  transition: opacity 0.18s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(6px);\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n}\n\n/* ------------------ Responsive ------------------ */\n@media (max-width: 1024px) {\n  .stories-list {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .map-layout {\n    grid-template-columns: 1fr 0.9fr;\n  }\n\n  .container {\n    padding: 14px;\n  }\n}\n\n@media (max-width: 768px) {\n  header {\n    padding: 10px;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .stories-list {\n    grid-template-columns: 1fr;\n  }\n\n  .map-layout {\n    grid-template-columns: 1fr;\n  }\n\n  .container {\n    padding: 12px;\n  }\n\n  .logo img {\n    height: 30px;\n  }\n}\n\n@media (max-width: 420px) {\n  .story-item img {\n    width: 84px;\n    height: 84px;\n  }\n\n  .site-title {\n    font-size: 1rem;\n  }\n}\n\n/* ------------------ Helpers ------------------ */\n.form-actions {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.message {\n  margin-top: 10px;\n  color: var(--muted);\n}\n',"",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;;;;8DAI8D;;AAE9D,gDAAgD;;AAGhD,yDAAyD;AACzD;EACE,aAAa;EACb,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB,KAAK,eAAe;EACtC,oBAAoB,GAAG,iBAAiB;EACxC,iBAAiB,MAAM,gBAAgB;EACvC,iBAAiB;EACjB,2CAA2C;EAC3C,cAAc;AAChB;;AAEA,uDAAuD;AACvD;EACE,sBAAsB;AACxB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,SAAS;EACT,6FAA6F;EAC7F,qBAAqB;EACrB,kBAAkB;EAClB,mCAAmC;EACnC,kCAAkC;EAClC,iBAAiB;AACnB;;AAEA,iDAAiD;AACjD;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,SAAS;EACT,kBAAkB;EAClB,oEAAoE;EACpE,WAAW;EACX,yBAAyB;EACzB,gBAAgB;EAChB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,qBAAqB;AACvB;;AAEA,eAAe;AACf;EACE,aAAa;EACb,QAAQ;EACR,mBAAmB;AACrB;;AAEA;EACE,gCAAgC;EAChC,qBAAqB;EACrB,iBAAiB;EACjB,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,qCAAqC;EACrC,aAAa;AACf;;AAEA,+CAA+C;AAC/C;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;AACV;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA,YAAY;AACZ;EACE,4BAA4B;EAC5B,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gCAAgC;AAClC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,2CAA2C;EAC3C,WAAW;AACb;;AAEA;EACE,yBAAyB;AAC3B;;AAEA,iDAAiD;AACjD;EACE,iBAAiB;EACjB,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA,sDAAsD;AACtD;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;AACX;;AAEA;EACE,uBAAuB;EACvB,4BAA4B;EAC5B,aAAa;EACb,yBAAyB;EACzB,gBAAgB;EAChB,aAAa;EACb,SAAS;EACT,uBAAuB;EACvB,+BAA+B;AACjC;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA,qDAAqD;AACrD;EACE,aAAa;EACb,8BAA8B;EAC9B,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,aAAa;EACb,4BAA4B;EAC5B,yBAAyB;EACzB,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,6BAA6B;EAC7B,eAAe;AACjB;;AAEA;EACE,0CAA0C;AAC5C;;AAEA,gDAAgD;AAChD;EACE,mBAAmB;EACnB,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;;;;;EAKE,aAAa;EACb,kBAAkB;EAClB,yBAAyB;EACzB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA,yDAAyD;AACzD;;;EAGE,gBAAgB;EAChB,iBAAiB;EACjB,uBAAuB;EACvB,aAAa;EACb,4BAA4B;EAC5B,yBAAyB;AAC3B;;AAEA,iDAAiD;AACjD;EACE,WAAW;EACX,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,kBAAkB;AACpB;;AAEA,wDAAwD;AACxD;EACE,kBAAkB;EAClB,YAAY;EACZ,SAAS;EACT,UAAU;EACV,WAAW;EACX,gBAAgB;AAClB;;AAEA;EACE,UAAU;EACV,SAAS;EACT,0BAA0B;EAC1B,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,aAAa;AACf;;AAEA;;;;EAIE,0CAA0C;EAC1C,mBAAmB;AACrB;;AAEA,sDAAsD;AACtD;EACE,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,kCAAkC;AACpC;;AAEA;EACE;IACE,UAAU;IACV,0BAA0B;EAC5B;EACA;IACE,UAAU;IACV,eAAe;EACjB;AACF;;AAEA,qDAAqD;AACrD;EACE;IACE,qCAAqC;EACvC;;EAEA;IACE,gCAAgC;EAClC;;EAEA;IACE,aAAa;EACf;AACF;;AAEA;EACE;IACE,aAAa;IACb,sBAAsB;IACtB,uBAAuB;EACzB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,aAAa;EACf;;EAEA;IACE,YAAY;EACd;AACF;;AAEA;EACE;IACE,WAAW;IACX,YAAY;EACd;;EAEA;IACE,eAAe;EACjB;AACF;;AAEA,kDAAkD;AAClD;EACE,aAAa;EACb,QAAQ;EACR,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB",sourcesContent:["/* =========================================================\r\n   Theme: Green Learning Story App\r\n   Author: Zaky Yusuf\r\n   Description: Clean, responsive, green-themed UI\r\n   ========================================================= */\r\n\r\n/* ------------------ Fonts ------------------ */\r\n@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');\r\n\r\n/* ------------------ Root Variables ------------------ */\r\n:root {\r\n  --bg: #f9fdf9;\r\n  --card: #ffffff;\r\n  --text: #1b1b1b;\r\n  --muted: #6b6b6b;\r\n  --primary: #2e7d32;    /* dark green */\r\n  --primary-2: #4caf50;  /* medium green */\r\n  --accent: #81c784;     /* light green */\r\n  --danger: #e53935;\r\n  --shadow: 0 6px 18px rgba(34, 34, 34, 0.08);\r\n  --radius: 12px;\r\n}\r\n\r\n/* ------------------ Base & Reset ------------------ */\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml, body {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;\r\n  background: var(--bg);\r\n  color: var(--text);\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  line-height: 1.45;\r\n}\r\n\r\n/* ------------------ Header ------------------ */\r\nheader {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 12px;\r\n  padding: 14px 18px;\r\n  background: linear-gradient(90deg, var(--primary), var(--primary-2));\r\n  color: #fff;\r\n  box-shadow: var(--shadow);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 40;\r\n}\r\n\r\n.logo {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.logo img {\r\n  height: 36px;\r\n  width: auto;\r\n}\r\n\r\n.site-title {\r\n  font-weight: 700;\r\n  font-size: 1.1rem;\r\n  letter-spacing: 0.2px;\r\n}\r\n\r\n/* Navigation */\r\n.nav-list {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.nav-list a {\r\n  color: rgba(255, 255, 255, 0.95);\r\n  text-decoration: none;\r\n  padding: 8px 10px;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n}\r\n\r\n.nav-list a:hover {\r\n  background: rgba(255, 255, 255, 0.08);\r\n  outline: none;\r\n}\r\n\r\n/* ------------------ Auth ------------------ */\r\n.auth-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.auth-welcome {\r\n  font-size: 0.95rem;\r\n  margin-right: 6px;\r\n}\r\n\r\n/* Buttons */\r\n.btn {\r\n  background: var(--primary-2);\r\n  border: none;\r\n  padding: 8px 12px;\r\n  border-radius: 8px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.btn:hover {\r\n  background: var(--accent);\r\n}\r\n\r\n.btn.small {\r\n  padding: 6px 8px;\r\n  font-size: 0.9rem;\r\n  border-radius: 6px;\r\n}\r\n\r\n.btn.secondary {\r\n  background: transparent;\r\n  border: 2px solid rgba(255, 255, 255, 0.18);\r\n  color: #fff;\r\n}\r\n\r\n.btn.danger {\r\n  background: var(--danger);\r\n}\r\n\r\n/* ------------------ Layout ------------------ */\r\n.container {\r\n  max-width: 1100px;\r\n  margin: 18px auto;\r\n  padding: 18px;\r\n}\r\n\r\n.main-content {\r\n  min-height: 60vh;\r\n  padding-bottom: 40px;\r\n}\r\n\r\n/* ------------------ Story Cards ------------------ */\r\n.stories-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 14px;\r\n}\r\n\r\n.story-item {\r\n  background: var(--card);\r\n  border-radius: var(--radius);\r\n  padding: 10px;\r\n  box-shadow: var(--shadow);\r\n  overflow: hidden;\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: flex-start;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.story-item:hover {\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.story-item img {\r\n  width: 110px;\r\n  height: 110px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n}\r\n\r\n.story-meta h3 {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n}\r\n\r\n.story-meta .desc {\r\n  margin: 6px 0;\r\n  color: var(--muted);\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.story-meta .time {\r\n  font-size: 0.8rem;\r\n  color: var(--muted);\r\n}\r\n\r\n/* ------------------ Map Layout ------------------ */\r\n.map-layout {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  gap: 12px;\r\n  align-items: start;\r\n}\r\n\r\n.map-list {\r\n  background: var(--card);\r\n  padding: 12px;\r\n  border-radius: var(--radius);\r\n  box-shadow: var(--shadow);\r\n  max-height: 500px;\r\n  overflow: auto;\r\n}\r\n\r\n.map-story-item {\r\n  padding: 10px;\r\n  border-bottom: 1px solid #eee;\r\n  cursor: pointer;\r\n}\r\n\r\n.map-story-item:focus {\r\n  outline: 3px solid rgba(76, 175, 80, 0.25);\r\n}\r\n\r\n/* ------------------ Forms ------------------ */\r\n.form-group {\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\nlabel {\r\n  font-weight: 600;\r\n  font-size: 0.95rem;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"email\"],\r\ninput[type=\"password\"],\r\ntextarea,\r\ninput[type=\"file\"] {\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  border: 1px solid #e6e6e6;\r\n  background: #fff;\r\n}\r\n\r\ntextarea {\r\n  resize: vertical;\r\n  min-height: 80px;\r\n}\r\n\r\n/* ------------------ Specific Pages ------------------ */\r\n.add-story-page,\r\n.login-page,\r\n.add-story-section {\r\n  max-width: 920px;\r\n  margin: 12px auto;\r\n  background: var(--card);\r\n  padding: 18px;\r\n  border-radius: var(--radius);\r\n  box-shadow: var(--shadow);\r\n}\r\n\r\n/* ------------------ Camera ------------------ */\r\n#camera-video {\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  display: block;\r\n}\r\n\r\n#camera-canvas {\r\n  max-width: 100%;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* ------------------ Accessibility ------------------ */\r\n.skip-to-content {\r\n  position: absolute;\r\n  left: -999px;\r\n  top: auto;\r\n  width: 1px;\r\n  height: 1px;\r\n  overflow: hidden;\r\n}\r\n\r\n.skip-to-content:focus {\r\n  left: 10px;\r\n  top: 10px;\r\n  background: var(--primary);\r\n  color: #fff;\r\n  padding: 8px;\r\n  border-radius: 6px;\r\n  z-index: 9999;\r\n}\r\n\r\na:focus,\r\nbutton:focus,\r\ninput:focus,\r\ntextarea:focus {\r\n  outline: 3px solid rgba(76, 175, 80, 0.18);\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* ------------------ Transitions ------------------ */\r\n.fade-in {\r\n  animation: fadeIn 0.28s ease-in;\r\n}\r\n\r\n.fade-out {\r\n  opacity: 0.01;\r\n  transition: opacity 0.18s ease-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(6px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: none;\r\n  }\r\n}\r\n\r\n/* ------------------ Responsive ------------------ */\r\n@media (max-width: 1024px) {\r\n  .stories-list {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .map-layout {\r\n    grid-template-columns: 1fr 0.9fr;\r\n  }\r\n\r\n  .container {\r\n    padding: 14px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  header {\r\n    padding: 10px;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .stories-list {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .map-layout {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .container {\r\n    padding: 12px;\r\n  }\r\n\r\n  .logo img {\r\n    height: 30px;\r\n  }\r\n}\r\n\r\n@media (max-width: 420px) {\r\n  .story-item img {\r\n    width: 84px;\r\n    height: 84px;\r\n  }\r\n\r\n  .site-title {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n/* ------------------ Helpers ------------------ */\r\n.form-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.message {\r\n  margin-top: 10px;\r\n  color: var(--muted);\r\n}\r\n"],sourceRoot:""}]);const c=i},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<n.length;u++){var l=[].concat(n[u]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},354:n=>{n.exports=function(n){var t=n[1],e=n[3];if(!e)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}}},r={};function o(n){var t=r[n];if(void 0!==t)return t.exports;var a=r[n]={id:n,exports:{}};return e[n](a,a.exports,o),a.exports}o.m=e,o.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return o.d(t,{a:t}),t},o.d=(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o.f={},o.e=n=>Promise.all(Object.keys(o.f).reduce(((t,e)=>(o.f[e](n,t),t)),[])),o.u=n=>n+".app.bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),o.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),n={},t="story-app:",o.l=(e,r,a,i)=>{if(n[e])n[e].push(r);else{var c,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==t+a){c=p;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",t+a),c.src=e),n[e]=[r];var f=(t,r)=>{c.onerror=c.onload=null,clearTimeout(d);var o=n[e];if(delete n[e],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((n=>n(r))),t)return t(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=f.bind(null,c.onerror),c.onload=f.bind(null,c.onload),s&&document.head.appendChild(c)}},o.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n;o.g.importScripts&&(n=o.g.location+"");var t=o.g.document;if(!n&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(n=t.currentScript.src),!n)){var e=t.getElementsByTagName("script");if(e.length)for(var r=e.length-1;r>-1&&(!n||!/^http(s?):/.test(n));)n=e[r--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=n})(),(()=>{var n={792:0};o.f.j=(t,e)=>{var r=o.o(n,t)?n[t]:void 0;if(0!==r)if(r)e.push(r[2]);else{var a=new Promise(((e,o)=>r=n[t]=[e,o]));e.push(r[2]=a);var i=o.p+o.u(t),c=new Error;o.l(i,(e=>{if(o.o(n,t)&&(0!==(r=n[t])&&(n[t]=void 0),r)){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,r[1](c)}}),"chunk-"+t,t)}};var t=(t,e)=>{var r,a,[i,c,s]=e,u=0;if(i.some((t=>0!==n[t]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);s&&s(o)}for(t&&t(e);u<i.length;u++)a=i[u],o.o(n,a)&&n[a]&&n[a][0](),n[a]=0},e=self.webpackChunkstory_app=self.webpackChunkstory_app||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))})(),o.nc=void 0;var a=o(72),i=o.n(a),c=o(825),s=o.n(c),u=o(659),l=o.n(u),p=o(56),f=o.n(p),d=o(540),m=o.n(d),A=o(113),y=o.n(A),g=o(159),v={};function b(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return h(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(h(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,h(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,h(p,"constructor",u),h(u,"constructor",s),s.displayName="GeneratorFunction",h(u,o,"GeneratorFunction"),h(p),h(p,o,"Generator"),h(p,r,(function(){return this})),h(p,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:a,m:f}})()}function h(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}h=function(n,t,e,r){function a(t,e){h(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},h(n,t,e,r)}function E(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function w(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){E(a,r,o,i,c,"next",n)}function c(n){E(a,r,o,i,c,"throw",n)}i(void 0)}))}}v.styleTagTransform=y(),v.setAttributes=f(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=m(),i()(g.A,v),g.A&&g.A.locals&&g.A.locals;var C="favorites",x="offlineStories",B="cachedStories",k="outbox";function S(){return j.apply(this,arguments)}function j(){return(j=w(b().m((function n(){return b().w((function(n){for(;;)if(0===n.n)return n.a(2,new Promise((function(n,t){var e=indexedDB.open("StoryAppDB",3);e.onerror=function(){return t(e.error)},e.onsuccess=function(){return n(e.result)},e.onupgradeneeded=function(n){var t=n.target.result,e=n.oldVersion||0;if(!t.objectStoreNames.contains(x)){var r=t.createObjectStore(x,{keyPath:"id"});r.createIndex("synced","synced",{unique:!1}),r.createIndex("createdAt","createdAt",{unique:!1})}if(t.objectStoreNames.contains(B)||t.createObjectStore(B,{keyPath:"id",autoIncrement:!1}).createIndex("timestamp","timestamp",{unique:!1}),t.objectStoreNames.contains(C)){if(e<2){var o=n.target.transaction.objectStore(C);o.indexNames.contains("savedAt")||o.createIndex("savedAt","savedAt",{unique:!1})}}else t.createObjectStore(C,{keyPath:"id",autoIncrement:!1}).createIndex("savedAt","savedAt",{unique:!1});t.objectStoreNames.contains(k)||t.createObjectStore(k,{keyPath:"id",autoIncrement:!0}).createIndex("timestamp","timestamp",{unique:!1})}})))}),n)})))).apply(this,arguments)}function T(n){return P.apply(this,arguments)}function P(){return(P=w(b().m((function n(t){var e,r,o,a,i;return b().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,S();case 1:if((e=n.v).objectStoreNames.contains(C)){n.n=2;break}throw console.error("[idb] Favorites store tidak tersedia. Silakan refresh halaman."),new Error("Favorites store tidak tersedia.");case 2:return r=e.transaction(C,"readwrite"),o=r.objectStore(C),a={id:t.id,name:t.name||"",description:t.description||"",photoUrl:t.photoUrl||t.photo||"",createdAt:t.createdAt||(new Date).toISOString(),lat:t.lat||null,lon:t.lon||null,savedAt:(new Date).toISOString()},n.a(2,new Promise((function(n,t){var e=o.put(a);e.onsuccess=function(){return n(a)},e.onerror=function(){return t(e.error)}})));case 3:throw n.p=3,i=n.v,console.error("Error saving favorite:",i),i;case 4:return n.a(2)}}),n,null,[[0,3]])})))).apply(this,arguments)}function O(){return _.apply(this,arguments)}function _(){return(_=w(b().m((function n(){var t,e,r,o;return b().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,S();case 1:if((t=n.v).objectStoreNames.contains(C)){n.n=2;break}return console.warn("[idb] Favorites store belum tersedia"),n.a(2,[]);case 2:return e=t.transaction(C,"readonly"),r=e.objectStore(C),n.a(2,new Promise((function(n,t){var e=r.getAll();e.onsuccess=function(){var t=e.result;n(Array.isArray(t)?t:[])},e.onerror=function(){console.error("[idb] Error getting favorites:",e.error),n([])}})));case 3:return n.p=3,o=n.v,console.error("Error getting favorites:",o),n.a(2,[])}}),n,null,[[0,3]])})))).apply(this,arguments)}function I(n){return D.apply(this,arguments)}function D(){return(D=w(b().m((function n(t){var e,r,o,a;return b().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,S();case 1:if((e=n.v).objectStoreNames.contains(C)){n.n=2;break}return console.warn("[idb] Favorites store tidak tersedia"),n.a(2,!1);case 2:return r=e.transaction(C,"readwrite"),o=r.objectStore(C),n.a(2,new Promise((function(n,e){var r=o.delete(t);r.onsuccess=function(){return n(!0)},r.onerror=function(){return e(r.error)}})));case 3:throw n.p=3,a=n.v,console.error("Error deleting favorite:",a),a;case 4:return n.a(2)}}),n,null,[[0,3]])})))).apply(this,arguments)}function F(){return G.apply(this,arguments)}function G(){return(G=w(b().m((function n(){var t,e,r,o;return b().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,S();case 1:if((t=n.v).objectStoreNames.contains(k)){n.n=2;break}return console.warn("[idb] Outbox store tidak tersedia"),n.a(2,[]);case 2:return e=t.transaction(k,"readonly"),r=e.objectStore(k),n.a(2,new Promise((function(n,t){var e=r.getAll();e.onsuccess=function(){return n(e.result||[])},e.onerror=function(){console.error("[idb] Error getting outbox:",e.error),n([])}})));case 3:return n.p=3,o=n.v,console.error("[idb] Error getting outbox:",o),n.a(2,[])}}),n,null,[[0,3]])})))).apply(this,arguments)}function N(){return H.apply(this,arguments)}function H(){return(H=w(b().m((function n(){var t,e,r,o;return b().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,S();case 1:if((t=n.v).objectStoreNames.contains(k)){n.n=2;break}return console.warn("[idb] Outbox store tidak tersedia untuk clear"),n.a(2);case 2:return e=t.transaction(k,"readwrite"),r=e.objectStore(k),n.a(2,new Promise((function(n,t){var e=r.clear();e.onsuccess=function(){return n()},e.onerror=function(){console.error("[idb] Error clearing outbox:",e.error),n()}})));case 3:n.p=3,o=n.v,console.error("[idb] Error clearing outbox:",o);case 4:return n.a(2)}}),n,null,[[0,3]])})))).apply(this,arguments)}function z(n){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},z(n)}function M(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return q(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(q(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,q(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,q(p,"constructor",u),q(u,"constructor",s),s.displayName="GeneratorFunction",q(u,o,"GeneratorFunction"),q(p),q(p,o,"Generator"),q(p,r,(function(){return this})),q(p,"toString",(function(){return"[object Generator]"})),(M=function(){return{w:a,m:f}})()}function q(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}q=function(n,t,e,r){function a(t,e){q(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},q(n,t,e,r)}function R(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function U(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){R(a,r,o,i,c,"next",n)}function c(n){R(a,r,o,i,c,"throw",n)}i(void 0)}))}}function W(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Y(r.key),r)}}function Y(n){var t=function(n){if("object"!=z(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=z(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==z(t)?t:t+""}var V=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"render",value:(a=U(M().m((function n(){return M().w((function(n){for(;;)if(0===n.n)return n.a(2,'\n      <section class="container">\n        <h1>Home Page</h1>\n        <p>\n          <button type="button" class="btn" data-hash="#/add" aria-label="Tambah story baru">+ Tambah Story</button>\n          <button type="button" class="btn" data-hash="#/map" aria-label="Lihat peta cerita">Lihat Peta</button>\n        </p>\n\n        <h2>Story</h2>\n        <div id="stories-list" class="stories-list" aria-live="polite"></div>\n\n        <h2>Favorit Anda</h2>\n        <div id="favorites-list" class="stories-list" aria-live="polite"></div>\n      </section>\n    ')}),n)}))),function(){return a.apply(this,arguments)})},{key:"afterRender",value:(o=U(M().m((function n(){var t,e,r=this;return M().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,this._renderStories();case 1:return n.n=2,this._renderFavorites();case 2:document.body.addEventListener("click",(function(n){var t=n.target.closest("button[data-hash]");if(t){var e=t.getAttribute("data-hash");e&&(location.hash=e)}})),(t=document.getElementById("stories-list"))&&t.addEventListener("click",function(){var n=U(M().m((function n(t){var e,o,a,i,c;return M().w((function(n){for(;;)switch(n.p=n.n){case 0:if(e=t.target.closest(".save-btn")){n.n=1;break}return n.a(2);case 1:if(o=e.getAttribute("data-story")){n.n=2;break}return n.a(2);case 2:a=null,n.p=3,a=JSON.parse(decodeURIComponent(o)),n.n=5;break;case 4:return n.p=4,i=n.v,console.error("Gagal parse data-story",i),n.a(2);case 5:return n.p=5,n.n=6,T(a);case 6:return n.n=7,r._renderFavorites();case 7:e.textContent="Tersimpan",e.disabled=!0,n.n=9;break;case 8:n.p=8,c=n.v,console.error("Gagal menyimpan favorit",c);case 9:return n.a(2)}}),n,null,[[5,8],[3,4]])})));return function(t){return n.apply(this,arguments)}}()),(e=document.getElementById("favorites-list"))&&e.addEventListener("click",function(){var n=U(M().m((function n(t){var e,o,a;return M().w((function(n){for(;;)switch(n.p=n.n){case 0:if(e=t.target.closest(".delete-fav-btn")){n.n=1;break}return n.a(2);case 1:return o=e.getAttribute("data-id"),n.p=2,n.n=3,I(o);case 3:return n.n=4,r._renderFavorites();case 4:return n.n=5,r._renderStories();case 5:n.n=7;break;case 6:n.p=6,a=n.v,console.error("Gagal menghapus favorit",a);case 7:return n.a(2)}}),n,null,[[2,6]])})));return function(t){return n.apply(this,arguments)}}());case 3:return n.a(2)}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"_renderStories",value:(r=U(M().m((function n(){var t,e,r,o,a,i,c,s,u,l=this;return M().w((function(n){for(;;)switch(n.p=n.n){case 0:if(t=document.getElementById("stories-list")){n.n=1;break}return n.a(2);case 1:return t.innerHTML="<p>Memuat story...</p>",n.p=2,e=localStorage.getItem("token"),n.n=3,O();case 3:return r=n.v,o=new Set((r||[]).map((function(n){return String(n.id)}))),a=e?{Authorization:"Bearer ".concat(e)}:{},n.n=4,fetch("https://story-api.dicoding.dev/v1/stories?location=1",{headers:a});case 4:return i=n.v,n.n=5,i.json();case 5:if(c=n.v,s=c.listStory||c.list||[],Array.isArray(s)&&0!==s.length){n.n=6;break}return t.innerHTML="<p>Tidak ada story.</p>",n.a(2);case 6:t.innerHTML=s.map((function(n){var t=n.id,e=n.name||"Tanpa Nama",r=n.description||"",a=n.createdAt,i=n.photoUrl||"",c=void 0!==n.lat&&null!==n.lat?n.lat:null,s=void 0!==n.lon&&null!==n.lon?n.lon:null,u={id:t,name:e,description:r,createdAt:a,photoUrl:i,lat:c,lon:s},p=encodeURIComponent(JSON.stringify(u)),f=o.has(String(t)),d=f?"Tersimpan":"Simpan",m=f?"disabled":"";return'\n            <article class="story-card" role="article" aria-labelledby="story-'.concat(l._escapeHtml(String(t)),'">\n              <div class="story-content">\n                ').concat(i?'<img src="'.concat(l._escapeHtml(i),'" alt="Foto ').concat(l._escapeHtml(e),'" class="story-image" loading="lazy" style="width:100%;border-radius:8px;margin-bottom:8px;">'):"",'\n                <h2 id="story-').concat(l._escapeHtml(String(t)),'">').concat(l._escapeHtml(e),"</h2>\n                <p>").concat(r?l._escapeHtml(r.substring(0,150))+(r.length>150?"...":""):"Tidak ada deskripsi","</p>\n                <small>Dibuat pada: ").concat(a?new Date(a).toLocaleDateString("id-ID"):"‚Äî","</small>\n                ").concat(null!==c&&null!==s?"<p><small>üìç Lokasi: ".concat(l._escapeHtml(String(c)),", ").concat(l._escapeHtml(String(s)),"</small></p>"):"",'\n                <p>\n                  <button class="save-btn btn" data-id="').concat(l._escapeHtml(String(t)),'" data-story="').concat(p,'" aria-label="Simpan story ').concat(l._escapeHtml(e),'" ').concat(m,">").concat(d,"</button>\n                </p>\n              </div>\n            </article>\n          ")})).join(""),n.n=8;break;case 7:n.p=7,u=n.v,t.innerHTML="<p>Gagal memuat story: ".concat(this._escapeHtml(String(u)),"</p>"),console.error(u);case 8:return n.a(2)}}),n,this,[[2,7]])}))),function(){return r.apply(this,arguments)})},{key:"_renderFavorites",value:(e=U(M().m((function n(){var t,e,r,o=this;return M().w((function(n){for(;;)switch(n.p=n.n){case 0:if(t=document.getElementById("favorites-list")){n.n=1;break}return n.a(2);case 1:return t.innerHTML="<p>Memuat favorit...</p>",n.p=2,n.n=3,O();case 3:if((e=n.v)&&0!==e.length){n.n=4;break}return t.innerHTML="<p>Tidak ada favorit.</p>",n.a(2);case 4:t.innerHTML=e.map((function(n){return'\n          <article class="story-card" role="article" aria-labelledby="fav-'.concat(o._escapeHtml(String(n.id)),'">\n            <div class="story-content">\n              ').concat(n.photoUrl?'<img src="'.concat(o._escapeHtml(n.photoUrl),'" alt="Foto ').concat(o._escapeHtml(n.name),'" class="story-image" loading="lazy" style="width:100%;border-radius:8px;margin-bottom:8px;">'):"",'\n              <h3 id="fav-').concat(o._escapeHtml(String(n.id)),'">').concat(o._escapeHtml(n.name),"</h3>\n              <p>").concat(n.description?o._escapeHtml(n.description.substring(0,150))+(n.description.length>150?"...":""):"Tidak ada deskripsi","</p>\n              <small>Dibuat pada: ").concat(n.createdAt?new Date(n.createdAt).toLocaleDateString("id-ID"):"‚Äî","</small>\n              ").concat(n.lat&&n.lon?"<p><small>üìç Lokasi: ".concat(o._escapeHtml(String(n.lat)),", ").concat(o._escapeHtml(String(n.lon)),"</small></p>"):"",'\n              <p>\n                <button class="delete-fav-btn btn" data-id="').concat(o._escapeHtml(String(n.id)),'" aria-label="Hapus favorit ').concat(o._escapeHtml(n.name),'">Hapus</button>\n              </p>\n            </div>\n          </article>\n        ')})).join(""),n.n=6;break;case 5:n.p=5,r=n.v,t.innerHTML="<p>Gagal memuat favorit: ".concat(this._escapeHtml(String(r)),"</p>"),console.error(r);case 6:return n.a(2)}}),n,this,[[2,5]])}))),function(){return e.apply(this,arguments)})},{key:"_escapeHtml",value:function(n){return null==n?"":String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}],t&&W(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e,r,o,a}();function Z(n){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Z(n)}function K(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return Q(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Q(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,Q(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,Q(p,"constructor",u),Q(u,"constructor",s),s.displayName="GeneratorFunction",Q(u,o,"GeneratorFunction"),Q(p),Q(p,o,"Generator"),Q(p,r,(function(){return this})),Q(p,"toString",(function(){return"[object Generator]"})),(K=function(){return{w:a,m:f}})()}function Q(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}Q=function(n,t,e,r){function a(t,e){Q(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},Q(n,t,e,r)}function X(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function J(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){X(a,r,o,i,c,"next",n)}function c(n){X(a,r,o,i,c,"throw",n)}i(void 0)}))}}function $(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nn(r.key),r)}}function nn(n){var t=function(n){if("object"!=Z(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=Z(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Z(t)?t:t+""}var tn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"render",value:(r=J(K().m((function n(){return K().w((function(n){for(;;)if(0===n.n)return n.a(2,'\n      <section class="container">\n        <h1>About Page</h1>\n      </section>\n    ')}),n)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(e=J(K().m((function n(){return K().w((function(n){for(;;)if(0===n.n)return n.a(2)}),n)}))),function(){return e.apply(this,arguments)})}],t&&$(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e,r}();function en(n){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},en(n)}function rn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return on(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(on(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,on(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,on(p,"constructor",u),on(u,"constructor",s),s.displayName="GeneratorFunction",on(u,o,"GeneratorFunction"),on(p),on(p,o,"Generator"),on(p,r,(function(){return this})),on(p,"toString",(function(){return"[object Generator]"})),(rn=function(){return{w:a,m:f}})()}function on(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}on=function(n,t,e,r){function a(t,e){on(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},on(n,t,e,r)}function an(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function cn(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){an(a,r,o,i,c,"next",n)}function c(n){an(a,r,o,i,c,"throw",n)}i(void 0)}))}}function sn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,un(r.key),r)}}function un(n){var t=function(n){if("object"!=en(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=en(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==en(t)?t:t+""}var ln=null,pn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"render",value:(r=cn(rn().m((function n(){return rn().w((function(n){for(;;)if(0===n.n)return n.a(2,'\n      <section class="container">\n        <h1>Peta Story</h1>\n        <div class="map-layout">\n          <div id="map" style="height:500px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);"></div>\n          <aside class="map-list" aria-label="Daftar cerita dengan lokasi">\n            <h2>Daftar Cerita</h2>\n            <div id="story-list" class="story-list" role="list"></div>\n          </aside>\n        </div>\n      </section>\n    ')}),n)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(e=cn(rn().m((function n(){var t,e,r,o,a,i,c,s,u,l,p=this;return rn().w((function(n){for(;;)switch(n.p=n.n){case 0:if(t=[],n.p=1,e=localStorage.getItem("token"),r=document.getElementById("story-list"),e){n.n=2;break}return r.innerHTML="<p>‚ö† Silakan login terlebih dahulu untuk melihat cerita di peta.</p>",n.a(2);case 2:return n.n=3,fetch("https://story-api.dicoding.dev/v1/stories?location=1",{headers:{Authorization:"Bearer ".concat(e)}});case 3:return o=n.v,n.n=4,o.json();case 4:if(!(a=n.v).error){n.n=5;break}return r.innerHTML="<p>Gagal memuat data: ".concat(a.message,"</p>"),n.a(2);case 5:i=a.listStory.filter((function(n){return n.lat&&n.lon})),this._renderList(i),ln&&(ln.remove(),ln=null),ln=L.map("map").setView([-2.5489,118.0149],4),c=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"¬© OpenStreetMap contributors"}).addTo(ln),s=L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:"¬© OpenTopoMap contributors"}),L.control.layers({OpenStreetMap:c,Topographic:s}).addTo(ln),u=[],i.forEach((function(n,e){var r=parseFloat(n.lat),o=parseFloat(n.lon),a='\n          <div style="max-width:180px;">\n            <img src="'.concat(n.photoUrl,'" alt="Foto ').concat(n.name,'" style="width:100%;border-radius:8px;margin-bottom:6px;">\n            <strong>').concat(n.name,'</strong>\n            <p style="font-size:0.9em; color:#555;">').concat(n.description||"Tidak ada deskripsi.","</p>\n          </div>\n        "),c=L.marker([r,o]).addTo(ln);c.bindPopup(a),c.on("click",(function(){return p._activate(e,t,i)})),t.push(c),u.push([r,o])})),u.length>0&&ln.fitBounds(u,{padding:[20,20]}),document.querySelectorAll(".story-item").forEach((function(n,e){n.addEventListener("click",(function(){return p._activate(e,t,i)})),n.addEventListener("keydown",(function(n){"Enter"!==n.key&&" "!==n.key||(n.preventDefault(),p._activate(e,t,i))}))})),n.n=7;break;case 6:n.p=6,l=n.v,console.error("Kesalahan memuat peta:",l),document.getElementById("story-list").innerHTML="<p>Terjadi kesalahan koneksi saat memuat data cerita.</p>";case 7:return n.a(2)}}),n,this,[[1,6]])}))),function(){return e.apply(this,arguments)})},{key:"_renderList",value:function(n){var t=document.getElementById("story-list");0!==n.length?t.innerHTML=n.map((function(n,t){return'\n      <article class="story-item" \n        data-index="'.concat(t,'" \n        role="listitem" \n        tabindex="0" \n        aria-label="Cerita oleh ').concat(n.name,'">\n        <img src="').concat(n.photoUrl,'" \n             alt="Foto ').concat(n.name,'" \n             class="story-image" \n             loading="lazy" \n             style="width:100%;border-radius:8px;">\n        <div class="story-meta">\n          <h3>').concat(n.name,"</h3>\n          <p>").concat(n.description?n.description.slice(0,100)+"...":"Tidak ada deskripsi.","</p>\n          <small>Lat: ").concat(n.lat," | Lon: ").concat(n.lon,"</small>\n        </div>\n      </article>\n    ")})).join(""):t.innerHTML="<p>Tidak ada cerita dengan lokasi.</p>"}},{key:"_activate",value:function(n,t,e){document.querySelectorAll(".story-item").forEach((function(n){return n.classList.remove("active")}));var r=document.querySelector('.story-item[data-index="'.concat(n,'"]'));null==r||r.classList.add("active"),null==r||r.scrollIntoView({behavior:"smooth",block:"center"});var o=e[n],a=t[n];a&&o&&(ln.setView([o.lat,o.lon],10,{animate:!0}),a.openPopup())}}],t&&sn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e,r}();function fn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return dn(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(dn(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,dn(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,dn(p,"constructor",u),dn(u,"constructor",s),s.displayName="GeneratorFunction",dn(u,o,"GeneratorFunction"),dn(p),dn(p,o,"Generator"),dn(p,r,(function(){return this})),dn(p,"toString",(function(){return"[object Generator]"})),(fn=function(){return{w:a,m:f}})()}function dn(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}dn=function(n,t,e,r){function a(t,e){dn(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},dn(n,t,e,r)}function mn(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function An(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){mn(a,r,o,i,c,"next",n)}function c(n){mn(a,r,o,i,c,"throw",n)}i(void 0)}))}}var yn="https://story-api.dicoding.dev/v1",gn={REGISTER:"".concat(yn,"/register"),LOGIN:"".concat(yn,"/login"),STORIES:"".concat(yn,"/stories")};function vn(n){return bn.apply(this,arguments)}function bn(){return(bn=An(fn().m((function n(t){var e,r,o,a,i,c,s,u,l,p;return fn().w((function(n){for(;;)switch(n.n){case 0:if(e=t.photoFile,r=t.description,o=t.lat,a=void 0===o?null:o,i=t.lon,c=void 0===i?null:i,s=localStorage.getItem("token")){n.n=1;break}throw new Error("Authorization token required");case 1:return(u=new FormData).append("photo",e),u.append("description",r),a&&c&&(u.append("lat",a),u.append("lon",c)),n.n=2,fetch(gn.STORIES,{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:u});case 2:if((l=n.v).ok){n.n=4;break}return n.n=3,l.text();case 3:throw p=n.v,new Error("Post story failed: ".concat(l.status," ").concat(p));case 4:return n.n=5,l.json();case 5:return n.a(2,n.v)}}),n)})))).apply(this,arguments)}function hn(n){return En.apply(this,arguments)}function En(){return(En=An(fn().m((function n(t){var e,r,o,a;return fn().w((function(n){for(;;)switch(n.n){case 0:return e=t.email,r=t.password,n.n=1,fetch(gn.LOGIN,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});case 1:if((o=n.v).ok){n.n=3;break}return n.n=2,o.text();case 2:throw a=n.v,new Error("Login failed: ".concat(o.status," ").concat(a));case 3:return n.n=4,o.json();case 4:return n.a(2,n.v)}}),n)})))).apply(this,arguments)}function wn(n){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wn(n)}function Cn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return xn(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(xn(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,xn(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,xn(p,"constructor",u),xn(u,"constructor",s),s.displayName="GeneratorFunction",xn(u,o,"GeneratorFunction"),xn(p),xn(p,o,"Generator"),xn(p,r,(function(){return this})),xn(p,"toString",(function(){return"[object Generator]"})),(Cn=function(){return{w:a,m:f}})()}function xn(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}xn=function(n,t,e,r){function a(t,e){xn(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},xn(n,t,e,r)}function Bn(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function kn(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){Bn(a,r,o,i,c,"next",n)}function c(n){Bn(a,r,o,i,c,"throw",n)}i(void 0)}))}}function Sn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,jn(r.key),r)}}function jn(n){var t=function(n){if("object"!=wn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=wn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==wn(t)?t:t+""}var Tn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._map=null,this._marker=null,this._stream=null},t=[{key:"render",value:function(){return'\n      <section class="add-story-page container">\n        <h1>Tambah Cerita</h1>\n        <form id="add-story-form" aria-label="Form Tambah Cerita">\n          <div class="form-group">\n            <label for="photo">Foto Cerita</label>\n            <input type="file" id="photo" name="photo" accept="image/*" />\n          </div>\n\n          <div class="form-group camera-controls">\n            <button type="button" id="open-camera" class="btn">üì∑ Gunakan Kamera</button>\n            <button type="button" id="take-photo" class="btn" style="display:none;">Ambil Foto</button>\n            <button type="button" id="close-camera" class="btn" style="display:none;">Tutup Kamera</button>\n            <div id="camera-preview" style="display:none;margin-top:8px;">\n              <video id="camera-video" autoplay playsinline style="max-width:100%;border-radius:8px;"></video>\n              <canvas id="camera-canvas" style="display:none;"></canvas>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <label for="description">Deskripsi</label>\n            <textarea id="description" name="description" rows="4" required></textarea>\n          </div>\n\n          <div class="form-group">\n            <label for="coords">Koordinat (klik peta untuk memilih)</label>\n            <input type="text" id="coords" name="coords" readonly placeholder="Belum dipilih" />\n          </div>\n\n          <div id="mini-map" style="height:300px;border-radius:8px;"></div>\n\n          <div class="form-actions">\n            <button type="submit" id="submit-btn" class="btn">Kirim</button>\n          </div>\n\n          <div id="message" role="status" aria-live="polite"></div>\n        </form>\n      </section>\n    '}},{key:"afterRender",value:(e=kn(Cn().m((function n(){var t,e,r,o,a,i,c,s,u,l,p,f=this;return Cn().w((function(n){for(;;)switch(n.n){case 0:if(t=window.L){n.n=1;break}return document.getElementById("message").textContent="Leaflet tidak tersedia.",n.a(2);case 1:this._map=t.map("mini-map").setView([-6.2,106.816666],5),t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"¬© OpenStreetMap contributors"}).addTo(this._map),this._map.on("click",(function(n){var e=n.latlng,r=e.lat,o=e.lng;f._marker&&f._marker.remove(),f._marker=t.marker([r,o]).addTo(f._map),document.getElementById("coords").value="".concat(r.toFixed(6),", ").concat(o.toFixed(6))})),e=document.getElementById("open-camera"),r=document.getElementById("take-photo"),o=document.getElementById("close-camera"),a=document.getElementById("camera-preview"),i=document.getElementById("camera-video"),c=document.getElementById("camera-canvas"),s=document.getElementById("photo"),u=null,e&&e.addEventListener("click",kn(Cn().m((function n(){var t;return Cn().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,navigator.mediaDevices.getUserMedia({video:!0});case 1:u=n.v,f._stream=u,i.srcObject=u,a.style.display="block",r.style.display="inline-block",o.style.display="inline-block",e.style.display="none",n.n=3;break;case 2:n.p=2,t=n.v,console.error("Camera open failed",t),document.getElementById("message").textContent="Tidak dapat mengakses kamera: "+t.message;case 3:return n.a(2)}}),n,null,[[0,2]])})))),r&&r.addEventListener("click",(function(){var n=i.videoWidth,t=i.videoHeight;n&&t&&(c.width=n,c.height=t,c.getContext("2d").drawImage(i,0,0,n,t),c.toBlob((function(n){var t=new File([n],"camera-capture.png",{type:n.type}),e=new DataTransfer;e.items.add(t),s.files=e.files,document.getElementById("message").textContent="Foto diambil, siap dikirim."}),"image/png"))})),o&&o.addEventListener("click",(function(){u&&(u.getTracks().forEach((function(n){return n.stop()})),f._stream=null),a.style.display="none",r.style.display="none",o.style.display="none",e.style.display="inline-block"})),l=document.getElementById("add-story-form"),p=document.getElementById("message"),l.addEventListener("submit",function(){var n=kn(Cn().m((function n(t){var e,r,o,a,i,c,s,u,d;return Cn().w((function(n){for(;;)switch(n.p=n.n){case 0:if(t.preventDefault(),p.textContent="",e=document.getElementById("photo"),r=document.getElementById("description").value.trim(),o=document.getElementById("coords").value.trim(),a=null,i=null,o&&(c=o.split(",").map((function(n){return n.trim()})),a=parseFloat(c[0]),i=parseFloat(c[1])),e.files.length){n.n=1;break}return p.textContent="Pilih foto atau ambil lewat kamera.",n.a(2);case 1:if(s=e.files[0],u=localStorage.getItem("token")){n.n=2;break}return p.textContent="Anda harus login sebelum mengirim story.",n.a(2);case 2:return n.p=2,p.textContent="Mengirim...",n.n=3,vn({photoFile:s,description:r,lat:isNaN(a)?null:a,lon:isNaN(i)?null:i,token:u});case 3:p.textContent="Story berhasil dikirim!",l.reset(),f._marker&&(f._marker.remove(),f._marker=null),f._stream&&(f._stream.getTracks().forEach((function(n){return n.stop()})),f._stream=null),n.n=5;break;case 4:n.p=4,d=n.v,console.error(d),p.textContent="Gagal mengirim story: "+(d.message||d);case 5:return n.a(2)}}),n,null,[[2,4]])})));return function(t){return n.apply(this,arguments)}}());case 2:return n.a(2)}}),n,this)}))),function(){return e.apply(this,arguments)})}],t&&Sn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e}();function Pn(n){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pn(n)}function On(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return _n(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(_n(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,_n(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,_n(p,"constructor",u),_n(u,"constructor",s),s.displayName="GeneratorFunction",_n(u,o,"GeneratorFunction"),_n(p),_n(p,o,"Generator"),_n(p,r,(function(){return this})),_n(p,"toString",(function(){return"[object Generator]"})),(On=function(){return{w:a,m:f}})()}function _n(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}_n=function(n,t,e,r){function a(t,e){_n(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},_n(n,t,e,r)}function In(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ln(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){In(a,r,o,i,c,"next",n)}function c(n){In(a,r,o,i,c,"throw",n)}i(void 0)}))}}function Dn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Fn(r.key),r)}}function Fn(n){var t=function(n){if("object"!=Pn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=Pn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Pn(t)?t:t+""}var Gn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"render",value:(r=Ln(On().m((function n(){return On().w((function(n){for(;;)if(0===n.n)return n.a(2,'\n      <section class="login-section">\n        <h1>Masuk ke Aplikasi Story</h1>\n        <form id="login-form" aria-label="Login form">\n          <label for="email">Email</label>\n          <input type="email" id="email" name="email" required />\n\n          <label for="password">Password</label>\n          <input type="password" id="password" name="password" required />\n\n          <button type="submit" class="btn primary">Login</button>\n          <p id="login-message" role="alert" aria-live="polite"></p>\n        </form>\n      </section>\n    ')}),n)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(e=Ln(On().m((function n(){var t,e;return On().w((function(n){for(;;)switch(n.n){case 0:t=document.getElementById("login-form"),e=document.getElementById("login-message"),t.addEventListener("submit",function(){var n=Ln(On().m((function n(r){var o,a,i,c,s,u,l,p,f;return On().w((function(n){for(;;)switch(n.p=n.n){case 0:if(r.preventDefault(),o=t.email.value.trim(),a=t.password.value.trim(),o&&a){n.n=1;break}return e.textContent="Email dan Password harus diisi.",n.a(2);case 1:return e.textContent="Memproses login...",n.p=2,n.n=3,hn({email:o,password:a});case 3:if(s=n.v,u=(null==s||null===(i=s.loginResult)||void 0===i?void 0:i.token)||null){n.n=4;break}return l=(null==s?void 0:s.message)||"Token tidak ditemukan.",e.textContent="Login gagal: ".concat(l),n.a(2);case 4:localStorage.setItem("token",u),(p=(null==s||null===(c=s.loginResult)||void 0===c?void 0:c.name)||"")&&localStorage.setItem("userName",p),e.textContent="Login berhasil! Mengalihkan...",setTimeout((function(){window.location.hash="#/"}),1e3),n.n=6;break;case 5:n.p=5,f=n.v,e.textContent="Error: ".concat(f.message);case 6:return n.a(2)}}),n,null,[[2,5]])})));return function(t){return n.apply(this,arguments)}}());case 1:return n.a(2)}}),n)}))),function(){return e.apply(this,arguments)})}],t&&Dn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e,r}();function Nn(n){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nn(n)}function Hn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return zn(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(zn(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,zn(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,zn(p,"constructor",u),zn(u,"constructor",s),s.displayName="GeneratorFunction",zn(u,o,"GeneratorFunction"),zn(p),zn(p,o,"Generator"),zn(p,r,(function(){return this})),zn(p,"toString",(function(){return"[object Generator]"})),(Hn=function(){return{w:a,m:f}})()}function zn(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}zn=function(n,t,e,r){function a(t,e){zn(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},zn(n,t,e,r)}function Mn(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function qn(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){Mn(a,r,o,i,c,"next",n)}function c(n){Mn(a,r,o,i,c,"throw",n)}i(void 0)}))}}function Rn(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Un(r.key),r)}}function Un(n){var t=function(n){if("object"!=Nn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=Nn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Nn(t)?t:t+""}var Wn=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},t=[{key:"render",value:(r=qn(Hn().m((function n(){return Hn().w((function(n){for(;;)if(0===n.n)return n.a(2,'\n      <section class="container page">\n        <h1 id="register-title">Daftar Akun Baru</h1>\n        <p>Silahkan isi form di bawah ini untuk membuat akun baru.</p>\n\n        <form id="register-form" aria-labelledby="register-title">\n          <div class="form-group">\n            <label for="name">Nama Lengkap</label>\n            <input \n              type="text" \n              id="name" \n              name="name"\n              placeholder="Masukkan nama lengkap Anda"\n              aria-required="true"\n              required\n            />\n          </div>\n\n          <div class="form-group">\n            <label for="email">Email</label>\n            <input \n              type="email" \n              id="email" \n              name="email"\n              placeholder="Masukkan email aktif"\n              aria-required="true"\n              required\n            />\n          </div>\n\n          <div class="form-group">\n            <label for="password">Password</label>\n            <input \n              type="password" \n              id="password" \n              name="password"\n              placeholder="Buat password minimal 8 karakter"\n              aria-required="true"\n              required\n            />\n          </div>\n\n          <button type="submit" class="btn-primary">Daftar</button>\n        </form>\n\n        <p>Sudah punya akun? <a href="#/login">Login</a></p>\n      </section>\n    ')}),n)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(e=qn(Hn().m((function n(){return Hn().w((function(n){for(;;)switch(n.n){case 0:document.getElementById("register-form").addEventListener("submit",function(){var n=qn(Hn().m((function n(t){var e,r,o,a,i,c;return Hn().w((function(n){for(;;)switch(n.p=n.n){case 0:if(t.preventDefault(),e=document.getElementById("name").value.trim(),r=document.getElementById("email").value.trim(),!((o=document.getElementById("password").value.trim()).length<8)){n.n=1;break}return alert("Password minimal 8 karakter."),n.a(2);case 1:return n.p=1,n.n=2,fetch("https://story-api.dicoding.dev/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,password:o})});case 2:return a=n.v,n.n=3,a.json();case 3:i=n.v,a.ok&&!i.error?(alert("Registrasi berhasil! Silakan login."),window.location.hash="/login"):alert("Registrasi gagal: "+i.message),n.n=5;break;case 4:n.p=4,c=n.v,alert("Terjadi kesalahan koneksi. Coba lagi."),console.error(c);case 5:return n.a(2)}}),n,null,[[1,4]])})));return function(t){return n.apply(this,arguments)}}());case 1:return n.a(2)}}),n)}))),function(){return e.apply(this,arguments)})}],t&&Rn(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e,r}();const Yn={"/":new V,"/about":new tn,"/map":new pn,"/add":new Tn,"/login":new Gn,"/register":new Wn},Vn=function(){var n=(window.location.hash||"#/").replace("#","");return n.startsWith("/")||(n="/".concat(n)),n.length>1&&n.endsWith("/")&&(n=n.slice(0,-1)),n||"/"};function Zn(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return Kn(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Kn(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return i=n.done,n},e:function(n){c=!0,a=n},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw a}}}}function Kn(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Qn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function a(e,r,o,a){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return Xn(u,"_invoke",function(e,r,o){var a,c,s,u=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,c=0,s=n,f.n=e,i}};function d(e,r){for(c=e,s=r,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],d=f.p,m=a[2];e>3?(o=m===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=d&&((o=e<2&&d<a[1])?(c=0,f.v=r,f.n=a[1]):d<m&&(o=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,f.n=m,c=0))}if(o||e>1)return i;throw p=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),c=l,s=m;(t=c<2?n:s)||!p;){a||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((t=(p=f.n<0)?s:e.call(r,f))!==i)break}catch(t){a=n,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(e,o,a),!0),u}var i={};function c(){}function s(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Xn(t={},r,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(l);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,Xn(n,o,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=u,Xn(p,"constructor",u),Xn(u,"constructor",s),s.displayName="GeneratorFunction",Xn(u,o,"GeneratorFunction"),Xn(p),Xn(p,o,"Generator"),Xn(p,r,(function(){return this})),Xn(p,"toString",(function(){return"[object Generator]"})),(Qn=function(){return{w:a,m:f}})()}function Xn(n,t,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}Xn=function(n,t,e,r){function a(t,e){Xn(n,t,(function(n){return this._invoke(t,e,n)}))}t?o?o(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e:(a("next",0),a("throw",1),a("return",2))},Xn(n,t,e,r)}function Jn(n,t,e,r,o,a,i){try{var c=n[a](i),s=c.value}catch(n){return void e(n)}c.done?t(s):Promise.resolve(s).then(r,o)}function $n(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(n){Jn(a,r,o,i,c,"next",n)}function c(n){Jn(a,r,o,i,c,"throw",n)}i(void 0)}))}}function nt(){var n=document.getElementById("logo-img");if(n){var t=et();t?(n.src=t+"/images/logo.png",console.log("‚úÖ Logo path fixed to:",n.src)):(n.src="./images/logo.png",console.log("‚úÖ Logo path set to:",n.src)),n.onerror=function(){var n=this;console.warn("‚ö†Ô∏è Logo failed to load, trying fallback paths...");var e=["./images/logo.png","/images/logo.png","images/logo.png",t?t+"/images/logo.png":null].filter(Boolean),r=0,o=function(){r<e.length?(n.src=e[r],console.log("üîÑ Trying logo path:",n.src),r++):console.error("‚ùå All logo paths failed")};this.onerror=o,o()},n.src&&(n.src=n.src)}}function tt(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3;return Promise.race([n,new Promise((function(n,e){return setTimeout((function(){return e(new Error("timeout"))}),t)}))])}function et(){var n=window.location.pathname,t=window.location.hostname;if(console.log("[BasePath] Detecting base path:",{path:n,hostname:t}),t.includes("github.io")){var e=n.split("/").filter((function(n){return n&&"index.html"!==n&&""!==n}));if(console.log("[BasePath] Path parts:",e),e.length>0){var r=e[0];if(r&&!r.includes(".")){var o="/"+r;return console.log("[BasePath] Detected base path:",o),o}}}return console.log("[BasePath] No base path detected, using root"),""}function rt(){return ot.apply(this,arguments)}function ot(){return(ot=$n(Qn().m((function n(){var t,e,r,o;return Qn().w((function(n){for(;;)switch(n.n){case 0:if(t=Vn(),e=Yn[t]||Yn["/"],r=document.getElementById("main-content"),!document.startViewTransition){n.n=1;break}document.startViewTransition($n(Qn().m((function n(){var t;return Qn().w((function(n){for(;;)switch(n.n){case 0:return n.n=1,e.render();case 1:return r.innerHTML=n.v,n.n=2,null===(t=e.afterRender)||void 0===t?void 0:t.call(e);case 2:return n.a(2)}}),n)})))),n.n=3;break;case 1:return n.n=2,e.render();case 2:return r.innerHTML=n.v,n.n=3,null===(o=e.afterRender)||void 0===o?void 0:o.call(e);case 3:at(t),it();case 4:return n.a(2)}}),n)})))).apply(this,arguments)}function at(n){document.querySelectorAll("#nav-list a").forEach((function(t){var e=t.getAttribute("href").replace("#","");t.classList.toggle("active",e===n)}))}function it(){var n=localStorage.getItem("token"),t=document.getElementById("login-link"),e=document.getElementById("register-link"),r=document.getElementById("logout-link");t&&e&&r&&(n?(t.style.display="none",e.style.display="none",r.style.display="inline-block"):(t.style.display="inline-block",e.style.display="inline-block",r.style.display="none"))}"serviceWorker"in navigator&&window.addEventListener("load",$n(Qn().m((function n(){var t,e,r,a;return Qn().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=et(),e=t?"".concat(t,"/sw.js"):"/sw.js",console.log("Registering service worker at:",e,"(basePath:",t,")"),n.n=1,tt(navigator.serviceWorker.register(e),7e3);case 1:r=n.v,console.log("ServiceWorker registered:",r),o.e(15).then(o.bind(o,15)).then((function(n){if(console.log("‚úÖ Push notification module loaded"),document.getElementById("push-toggle")||(console.log("‚ö†Ô∏è Push button not found, creating..."),n&&"function"==typeof n.createPushButton&&n.createPushButton()),n&&"function"==typeof n.initPush)try{n.initPush(r),console.log("‚úÖ Push notification initialized with registration")}catch(t){console.warn("‚ö†Ô∏è initPush failed, retrying without registration:",t);try{n.initPush(null),console.log("‚úÖ Push notification initialized without registration")}catch(n){console.warn("‚ùå initPush retry failed:",n)}}})).catch((function(n){console.warn("‚ö†Ô∏è Could not load push-notification module:",n),o.e(15).then(o.bind(o,15)).catch((function(n){console.error("‚ùå Failed to load push notification module:",n)}))})),setTimeout((function(){if(!document.getElementById("push-toggle")){console.log("‚ö†Ô∏è Push button still missing, creating fallback button...");var n=document.createElement("button");n.id="push-toggle",n.textContent="üîî Aktifkan Notifikasi",n.style.position="fixed",n.style.right="16px",n.style.bottom="16px",n.style.zIndex="9999",n.style.padding="12px 20px",n.style.backgroundColor="#2196F3",n.style.color="white",n.style.border="none",n.style.borderRadius="8px",n.style.cursor="pointer",n.style.boxShadow="0 4px 12px rgba(0,0,0,0.3)",n.style.fontSize="14px",n.style.fontWeight="600",document.body&&(document.body.appendChild(n),console.log("‚úÖ Fallback push button created"))}}),1e3),n.n=3;break;case 2:n.p=2,a=n.v,console.error("ServiceWorker registration failed or timed out:",a);case 3:return n.a(2)}}),n,null,[[0,2]])})))),window.addEventListener("hashchange",(function(){"#/logout"===window.location.hash&&(localStorage.removeItem("token"),alert("Anda telah logout"),window.location.hash="/",it())})),window.addEventListener("hashchange",rt),window.addEventListener("load",(function(){rt(),nt()})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",nt):nt();var ct=document.getElementById("drawer-button"),st=document.getElementById("navigation-drawer");function ut(){return lt.apply(this,arguments)}function lt(){return(lt=$n(Qn().m((function n(){var t,e,r,o,a,i,c;return Qn().w((function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,F();case 1:if((t=n.v)&&0!==t.length){n.n=2;break}return n.a(2);case 2:console.log("Syncing outbox items:",t.length),e=Zn(t),n.p=3,e.s();case 4:if((r=e.n()).done){n.n=9;break}return o=r.value,n.p=5,n.n=6,vn(o);case 6:n.n=8;break;case 7:n.p=7,a=n.v,console.error("Failed to sync item, will retry later:",o,a);case 8:n.n=4;break;case 9:n.n=11;break;case 10:n.p=10,i=n.v,e.e(i);case 11:return n.p=11,e.f(),n.f(11);case 12:return n.n=13,N();case 13:console.log("Outbox sync finished."),n.n=15;break;case 14:n.p=14,c=n.v,console.error("Error during outbox sync:",c);case 15:return n.a(2)}}),n,null,[[5,7],[3,10,11,12],[0,14]])})))).apply(this,arguments)}null==ct||ct.addEventListener("click",(function(){return null==st?void 0:st.classList.toggle("open")})),window.updateNavigation=it,window.addEventListener("click",(function(n){n.target.matches('a[href="#/logout"]')&&(n.preventDefault(),localStorage.removeItem("token"),alert("Anda telah logout"),it(),window.location.hash="/")})),window.addEventListener("online",(function(){console.log("Network status: online ‚Äî attempting to sync outbox"),setTimeout((function(){return ut()}),0)})),navigator.onLine&&setTimeout((function(){ut().catch((function(n){return console.warn("Initial outbox sync error:",n)}))}),1e3)})();
//# sourceMappingURL=app.bundle.js.map