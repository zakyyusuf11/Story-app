{"version":3,"file":"15.app.bundle.js","mappings":"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","sources":["webpack://story-app/./src/scripts/config.js","webpack://story-app/./src/scripts/push-notification.js"],"sourcesContent":["const CONFIG = {\r\n  BASE_URL: 'https://story-api.dicoding.dev/v1',\r\n  VAPID_PUBLIC_KEY: 'BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk',\r\n};\r\n\r\nexport default CONFIG;\r\n","// Push Notification utility\r\nimport CONFIG from './config.js';\r\n\r\n/**\r\n * Konversi VAPID public key dari base64url ke Uint8Array\r\n * @param {string} base64String - VAPID key dalam format base64url\r\n * @returns {Uint8Array} - Array bytes untuk applicationServerKey\r\n */\r\nfunction urlBase64ToUint8Array(base64String) {\r\n  // Tambahkan padding jika diperlukan\r\n  const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\r\n  // Konversi base64url ke base64 standar\r\n  const base64 = (base64String + padding)\r\n    .replace(/\\-/g, '+')\r\n    .replace(/_/g, '/');\r\n  \r\n  // Decode base64 ke binary string\r\n  const rawData = window.atob(base64);\r\n  \r\n  // Konversi ke Uint8Array\r\n  const outputArray = new Uint8Array(rawData.length);\r\n  for (let i = 0; i < rawData.length; ++i) {\r\n    outputArray[i] = rawData.charCodeAt(i);\r\n  }\r\n  \r\n  return outputArray;\r\n}\r\n\r\n/**\r\n * Ambil VAPID public key dari config (sesuai dokumentasi Story API)\r\n * @returns {string} - VAPID public key\r\n */\r\nfunction getVapidPublicKey() {\r\n  // VAPID key sudah tersedia di config, gunakan langsung\r\n  return CONFIG.VAPID_PUBLIC_KEY;\r\n}\r\n\r\n/**\r\n * Verifikasi format dan validitas VAPID key\r\n * @returns {boolean} - true jika valid, false jika tidak\r\n */\r\nexport function verifyVapidKey() {\r\n  const key = getVapidPublicKey();\r\n  \r\n  if (!key) {\r\n    console.error('‚ùå VAPID key tidak ditemukan di config');\r\n    return false;\r\n  }\r\n  \r\n  // Cek panjang key (tidak boleh terlalu panjang, biasanya ~87 karakter)\r\n  if (key.length > 150) {\r\n    console.warn('‚ö†Ô∏è VAPID key terlalu panjang, kemungkinan masih placeholder');\r\n    console.warn('   Format VAPID key yang benar biasanya ~87 karakter (base64url)');\r\n    return false;\r\n  }\r\n  \r\n  // Cek format base64url (hanya alphanumeric, -, _)\r\n  const base64urlPattern = /^[A-Za-z0-9_-]+$/;\r\n  if (!base64urlPattern.test(key)) {\r\n    console.error('‚ùå Format VAPID key tidak valid (harus base64url: A-Z, a-z, 0-9, -, _)');\r\n    return false;\r\n  }\r\n  \r\n  // Coba konversi ke Uint8Array untuk verifikasi\r\n  try {\r\n    const testArray = urlBase64ToUint8Array(key);\r\n    if (testArray.length === 0 || testArray.length !== 65) {\r\n      console.warn('‚ö†Ô∏è VAPID key length tidak sesuai (harus menghasilkan 65 bytes)');\r\n      return false;\r\n    }\r\n    console.log('‚úÖ VAPID key format valid');\r\n    console.log(`   Key length: ${key.length} karakter`);\r\n    console.log(`   Converted to: ${testArray.length} bytes`);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('‚ùå Error converting VAPID key:', error.message);\r\n    console.error('   Pastikan key adalah format base64url yang valid');\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Subscribe ke push notifications\r\n * @returns {Promise<PushSubscription|null>} - Subscription object atau null jika gagal\r\n */\r\nexport async function subscribeToPushNotifications() {\r\n  // Cek dukungan browser\r\n  if (!('serviceWorker' in navigator)) {\r\n    throw new Error('Service Worker tidak didukung di browser ini. Gunakan browser modern seperti Chrome, Firefox, atau Edge.');\r\n  }\r\n  \r\n  if (!('PushManager' in window)) {\r\n    throw new Error('Push Notification tidak didukung di browser ini. Gunakan browser modern seperti Chrome, Firefox, atau Edge.');\r\n  }\r\n  \r\n  // Cek apakah di HTTPS atau localhost\r\n  if (window.location.protocol !== 'https:' && \r\n      window.location.hostname !== 'localhost' && \r\n      window.location.hostname !== '127.0.0.1') {\r\n    throw new Error('Push Notification hanya bekerja di HTTPS atau localhost. Aplikasi harus di-deploy dengan HTTPS.');\r\n  }\r\n  \r\n  try {\r\n    // Tunggu service worker siap (dengan timeout)\r\n    let registration = null;\r\n    const maxWaitTime = 10000; // 10 detik\r\n    const startTime = Date.now();\r\n    \r\n    while (!registration && (Date.now() - startTime) < maxWaitTime) {\r\n      try {\r\n        registration = await navigator.serviceWorker.ready;\r\n        if (registration) break;\r\n      } catch (e) {\r\n        // Service worker belum ready, tunggu sebentar\r\n        await new Promise(resolve => setTimeout(resolve, 500));\r\n      }\r\n    }\r\n    \r\n    if (!registration) {\r\n      throw new Error('Service Worker belum siap. Pastikan Service Worker sudah ter-register dengan benar. Refresh halaman dan coba lagi.');\r\n    }\r\n    \r\n    console.log('‚úÖ Service Worker ready for push notification');\r\n    \r\n    // Cek apakah sudah subscribe\r\n    const existingSubscription = await registration.pushManager.getSubscription();\r\n    if (existingSubscription) {\r\n      console.log('‚úÖ Already subscribed to push notifications');\r\n      return existingSubscription;\r\n    }\r\n    \r\n    // Request izin notifikasi\r\n    console.log('üîî Requesting notification permission...');\r\n    const permission = await Notification.requestPermission();\r\n    \r\n    if (permission === 'denied') {\r\n      throw new Error('Izin notifikasi ditolak. Untuk mengaktifkan notifikasi:\\n1. Klik icon gembok/kunci di address bar\\n2. Set \"Notifications\" ke \"Allow\"\\n3. Refresh halaman dan coba lagi');\r\n    }\r\n    \r\n    if (permission === 'default') {\r\n      throw new Error('Izin notifikasi belum diberikan. Silakan berikan izin notifikasi ketika diminta, kemudian coba lagi.');\r\n    }\r\n    \r\n    if (permission !== 'granted') {\r\n      throw new Error('Izin notifikasi tidak diberikan. Status: ' + permission);\r\n    }\r\n    \r\n    console.log('‚úÖ Notification permission granted');\r\n    \r\n    // Ambil VAPID public key dari config\r\n    const vapidPublicKey = getVapidPublicKey();\r\n    \r\n    if (!vapidPublicKey) {\r\n      throw new Error('VAPID public key tidak ditemukan di config');\r\n    }\r\n    \r\n    // Konversi VAPID key - biarkan browser validasi, jangan throw error di sini\r\n    let applicationServerKey;\r\n    try {\r\n      applicationServerKey = urlBase64ToUint8Array(vapidPublicKey);\r\n      console.log('üîç VAPID key conversion:', {\r\n        keyLength: vapidPublicKey.length,\r\n        convertedBytes: applicationServerKey.length,\r\n        expectedBytes: 65,\r\n        keyPreview: vapidPublicKey.substring(0, 30) + '...'\r\n      });\r\n      \r\n      if (applicationServerKey.length !== 65) {\r\n        console.warn('‚ö†Ô∏è VAPID key converted to', applicationServerKey.length, 'bytes, expected 65');\r\n        console.warn('   Continuing anyway - browser will validate');\r\n      } else {\r\n        console.log('‚úÖ VAPID key format looks correct (65 bytes)');\r\n      }\r\n    } catch (keyError) {\r\n      console.error('‚ùå Error converting VAPID key:', keyError);\r\n      // Jangan throw di sini, biarkan browser coba subscribe dan lihat apa yang terjadi\r\n      console.warn('‚ö†Ô∏è Will attempt subscription anyway - browser will validate');\r\n      // Coba konversi lagi dengan error handling\r\n      try {\r\n        applicationServerKey = urlBase64ToUint8Array(vapidPublicKey);\r\n      } catch (e) {\r\n        throw new Error('VAPID public key tidak dapat dikonversi. Pastikan format key benar (base64url). Error: ' + keyError.message);\r\n      }\r\n    }\r\n    \r\n    // Subscribe ke push dengan VAPID key\r\n    let subscription;\r\n    try {\r\n      subscription = await registration.pushManager.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: applicationServerKey,\r\n      });\r\n      console.log('‚úÖ Push subscription created in browser');\r\n    } catch (subscribeError) {\r\n      console.error('‚ùå Error subscribing to push:', subscribeError);\r\n      console.error('   Error name:', subscribeError.name);\r\n      console.error('   Error message:', subscribeError.message);\r\n      console.error('   VAPID key used:', vapidPublicKey.substring(0, 20) + '...');\r\n      \r\n      if (subscribeError.name === 'NotAllowedError') {\r\n        throw new Error('Push subscription tidak diizinkan. Pastikan Service Worker sudah aktif dan browser mendukung push notification.');\r\n      } else if (subscribeError.message && \r\n                 (subscribeError.message.includes('VAPID') || \r\n                  subscribeError.message.includes('Invalid') || \r\n                  subscribeError.message.includes('invalid'))) {\r\n        console.error('‚ö†Ô∏è Browser rejected VAPID key. This usually means:');\r\n        console.error('   1. The VAPID key does not match the server\\'s private key');\r\n        console.error('   2. The key format is incorrect');\r\n        console.error('   3. The key has been revoked or expired');\r\n        throw new Error('VAPID key tidak valid. Pastikan menggunakan VAPID key yang benar dari dokumentasi Story API. Error dari browser: ' + subscribeError.message);\r\n      }\r\n      throw new Error('Gagal subscribe ke push notification: ' + subscribeError.message);\r\n    }\r\n    \r\n    // Kirim subscription ke server menggunakan endpoint sesuai dokumentasi Story API\r\n    const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n    if (!token) {\r\n      console.warn('No auth token found');\r\n      return null;\r\n    }\r\n    \r\n    // Format subscription sesuai dokumentasi Story API\r\n    const subscriptionJson = subscription.toJSON();\r\n    \r\n    // Simpan subscription ke localStorage terlebih dahulu\r\n    localStorage.setItem('pushSubscription', JSON.stringify(subscriptionJson));\r\n    console.log('‚úÖ Push subscription saved to localStorage');\r\n    \r\n    // Kirim ke endpoint /notifications/subscribe sesuai dokumentasi\r\n    try {\r\n      const response = await fetch(`${CONFIG.BASE_URL}/notifications/subscribe`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          endpoint: subscriptionJson.endpoint,\r\n          keys: {\r\n            p256dh: subscriptionJson.keys.p256dh,\r\n            auth: subscriptionJson.keys.auth,\r\n          },\r\n        }),\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({ message: 'Unknown error' }));\r\n        const errorMessage = errorData.message || `Server responded with status ${response.status}`;\r\n        console.warn('‚ö†Ô∏è Warning: Failed to send subscription to server:', errorMessage);\r\n        console.warn('   Push notification masih bisa digunakan untuk testing via DevTools');\r\n        // Jangan throw error, karena subscription sudah berhasil dibuat di browser\r\n        // User masih bisa test via DevTools > Application > Service Workers > Push\r\n      } else {\r\n        const result = await response.json();\r\n        console.log('‚úÖ Push notification subscribed successfully to server:', result);\r\n      }\r\n    } catch (fetchError) {\r\n      console.warn('‚ö†Ô∏è Warning: Error sending subscription to server:', fetchError.message);\r\n      console.warn('   Push notification masih bisa digunakan untuk testing via DevTools');\r\n      console.warn('   Buka DevTools > Application > Service Workers > Push untuk test manual');\r\n      // Jangan throw error, karena subscription sudah berhasil dibuat di browser\r\n    }\r\n    \r\n    console.log('‚úÖ Push notification subscription ready');\r\n    return subscription;\r\n    \r\n  } catch (error) {\r\n    console.error('‚ùå Error subscribing to push notifications:', error);\r\n    // Re-throw error dengan message yang lebih jelas\r\n    if (error.message) {\r\n      throw error;\r\n    }\r\n    throw new Error('Gagal mengaktifkan push notification: ' + (error.toString() || 'Unknown error'));\r\n  }\r\n}\r\n\r\n/**\r\n * Unsubscribe dari push notifications\r\n * @returns {Promise<void>}\r\n */\r\nexport async function unsubscribeFromPushNotifications() {\r\n  try {\r\n    const registration = await navigator.serviceWorker.ready;\r\n    const subscription = await registration.pushManager.getSubscription();\r\n    \r\n    if (subscription) {\r\n      const subscriptionJson = subscription.toJSON();\r\n      const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n      \r\n      // Unsubscribe dari server menggunakan endpoint DELETE sesuai dokumentasi\r\n      if (token && subscriptionJson.endpoint) {\r\n        try {\r\n          const response = await fetch(`${CONFIG.BASE_URL}/notifications/subscribe`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({\r\n              endpoint: subscriptionJson.endpoint,\r\n            }),\r\n          });\r\n          \r\n          if (!response.ok) {\r\n            console.warn('Failed to unsubscribe from server, but continuing with local unsubscribe');\r\n          } else {\r\n            const result = await response.json();\r\n            console.log('‚úÖ Unsubscribed from server:', result);\r\n          }\r\n        } catch (fetchError) {\r\n          console.warn('Could not send unsubscribe to server:', fetchError.message);\r\n        }\r\n      }\r\n      \r\n      // Unsubscribe dari browser\r\n      await subscription.unsubscribe();\r\n      localStorage.removeItem('pushSubscription');\r\n      console.log('‚úÖ Push notification unsubscribed successfully');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error unsubscribing from push notifications:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Cek apakah user sudah subscribe\r\n * @returns {Promise<boolean>} - true jika sudah subscribe, false jika belum\r\n */\r\nexport async function isSubscribedToPushNotifications() {\r\n  try {\r\n    const registration = await navigator.serviceWorker.ready;\r\n    const subscription = await registration.pushManager.getSubscription();\r\n    return subscription !== null;\r\n  } catch (error) {\r\n    console.error('Error checking subscription:', error);\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Test notification secara manual (untuk debugging)\r\n * @returns {Promise<void>}\r\n */\r\nexport async function testNotification() {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.error('‚ùå Service Worker tidak didukung');\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    const registration = await navigator.serviceWorker.ready;\r\n    \r\n    // Cek izin notifikasi\r\n    if (Notification.permission !== 'granted') {\r\n      const permission = await Notification.requestPermission();\r\n      if (permission !== 'granted') {\r\n        console.error('‚ùå Notification permission tidak diberikan');\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Ambil base path untuk icon (sama seperti service worker)\r\n    const getBasePath = () => {\r\n      const pathname = window.location.pathname;\r\n      if (pathname === '/' || pathname === '/index.html') {\r\n        return '/';\r\n      }\r\n      const lastSlash = pathname.lastIndexOf('/');\r\n      return lastSlash > 0 ? pathname.substring(0, lastSlash + 1) : '/';\r\n    };\r\n    \r\n    const basePath = getBasePath();\r\n    \r\n    // Tampilkan test notification\r\n    await registration.showNotification('Notifikasi Baru', {\r\n      body: 'Ada data baru ditambahkan.',\r\n      icon: basePath + 'images/logo.png',\r\n      badge: basePath + 'images/logo.png',\r\n      tag: 'test-notification',\r\n      requireInteraction: false,\r\n    });\r\n    \r\n    console.log('‚úÖ Test notification sent!');\r\n  } catch (error) {\r\n    console.error('‚ùå Error showing test notification:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Helper: Get base path for GitHub Pages\r\n */\r\nfunction getBasePath() {\r\n  const hostname = window.location.hostname;\r\n  if (hostname.includes('github.io')) {\r\n    const path = window.location.pathname;\r\n    const pathParts = path.split('/').filter(p => p && p !== 'index.html' && p !== '');\r\n    if (pathParts.length > 0) {\r\n      const repoName = pathParts[0];\r\n      if (repoName && !repoName.includes('.')) {\r\n        return '/' + repoName;\r\n      }\r\n    }\r\n  }\r\n  return '';\r\n}\r\n\r\n/**\r\n * Buat tombol push notification yang selalu muncul\r\n */\r\nexport function createPushButton() {\r\n  let toggle = document.getElementById('push-toggle');\r\n  if (!toggle) {\r\n    toggle = document.createElement('button');\r\n    toggle.id = 'push-toggle';\r\n    toggle.setAttribute('type', 'button');\r\n    toggle.className = 'btn push-notification-btn';\r\n    toggle.style.position = 'fixed';\r\n    toggle.style.right = '16px';\r\n    toggle.style.bottom = '16px';\r\n    toggle.style.zIndex = '9999';\r\n    toggle.style.padding = '12px 20px';\r\n    toggle.style.backgroundColor = '#2196F3';\r\n    toggle.style.color = 'white';\r\n    toggle.style.border = 'none';\r\n    toggle.style.borderRadius = '8px';\r\n    toggle.style.cursor = 'pointer';\r\n    toggle.style.boxShadow = '0 4px 12px rgba(0,0,0,0.3)';\r\n    toggle.style.fontSize = '14px';\r\n    toggle.style.fontWeight = '600';\r\n    toggle.style.display = 'block';\r\n    toggle.style.visibility = 'visible';\r\n    toggle.textContent = 'üîî Aktifkan Notifikasi';\r\n    toggle.setAttribute('aria-label', 'Toggle Push Notifications');\r\n    \r\n    // Pastikan body sudah ada sebelum append\r\n    if (document.body) {\r\n      document.body.appendChild(toggle);\r\n      console.log('‚úÖ Push notification button created');\r\n    } else {\r\n      // Tunggu body ready\r\n      const observer = new MutationObserver((mutations, obs) => {\r\n        if (document.body) {\r\n          document.body.appendChild(toggle);\r\n          console.log('‚úÖ Push notification button created (after body ready)');\r\n          obs.disconnect();\r\n        }\r\n      });\r\n      observer.observe(document.documentElement, { childList: true, subtree: true });\r\n      \r\n      // Fallback timeout\r\n      setTimeout(() => {\r\n        if (document.body && !document.getElementById('push-toggle')) {\r\n          document.body.appendChild(toggle);\r\n          console.log('‚úÖ Push notification button created (timeout fallback)');\r\n        }\r\n        observer.disconnect();\r\n      }, 1000);\r\n    }\r\n  }\r\n  return toggle;\r\n}\r\n\r\n/**\r\n * Inisialisasi fitur push notification dengan tombol UI\r\n * @param {ServiceWorkerRegistration} registration - Service worker registration\r\n */\r\nexport async function initPush(registration) {\r\n  // Buat tombol dulu, selalu muncul\r\n  const toggle = createPushButton();\r\n  \r\n  // Cek apakah browser mendukung push notification\r\n  if (!('PushManager' in window) || !('Notification' in window)) {\r\n    toggle.textContent = 'üîî Notifikasi Tidak Didukung';\r\n    toggle.style.backgroundColor = '#9E9E9E';\r\n    toggle.disabled = true;\r\n    return;\r\n  }\r\n  \r\n  try {\r\n    // Jika registration tidak diberikan, tunggu service worker siap\r\n    if (!registration) {\r\n      if ('serviceWorker' in navigator) {\r\n        registration = await navigator.serviceWorker.ready;\r\n      } else {\r\n        toggle.textContent = 'üîî Service Worker Tidak Didukung';\r\n        toggle.style.backgroundColor = '#9E9E9E';\r\n        toggle.disabled = true;\r\n        return;\r\n      }\r\n    }\r\n  } catch (e) {\r\n    console.warn('Service worker not ready, push init aborted.', e);\r\n    toggle.textContent = 'üîî Menunggu Service Worker...';\r\n    toggle.style.backgroundColor = '#FF9800';\r\n    // Coba lagi setelah beberapa detik\r\n    setTimeout(() => initPush(null), 3000);\r\n    return;\r\n  }\r\n  \r\n  // Update UI (tulisan tombol)\r\n  async function updateUI() {\r\n    try {\r\n      const sub = await registration.pushManager.getSubscription();\r\n      if (Notification.permission === 'granted' && sub) {\r\n        toggle.textContent = 'üîî Notifikasi Aktif';\r\n        toggle.style.backgroundColor = '#4CAF50';\r\n      } else {\r\n        toggle.textContent = 'üîî Aktifkan Notifikasi';\r\n        toggle.style.backgroundColor = '#2196F3';\r\n      }\r\n    } catch (err) {\r\n      console.error('Error while updating push UI', err);\r\n      toggle.textContent = 'üîî Aktifkan Notifikasi';\r\n      toggle.style.backgroundColor = '#2196F3';\r\n    }\r\n  }\r\n  \r\n  await updateUI();\r\n  \r\n  // Pastikan tombol terlihat\r\n  toggle.style.display = 'block';\r\n  toggle.style.visibility = 'visible';\r\n  toggle.style.opacity = '1';\r\n  \r\n  // Hapus event listener lama jika ada, lalu tambahkan yang baru\r\n  const newToggle = toggle.cloneNode(true);\r\n  if (toggle.parentNode) {\r\n    toggle.parentNode.replaceChild(newToggle, toggle);\r\n  }\r\n  const finalToggle = document.getElementById('push-toggle');\r\n  \r\n  // Pastikan finalToggle juga terlihat\r\n  if (finalToggle) {\r\n    finalToggle.style.display = 'block';\r\n    finalToggle.style.visibility = 'visible';\r\n    finalToggle.style.opacity = '1';\r\n  }\r\n  \r\n  finalToggle.addEventListener('click', async () => {\r\n    try {\r\n      console.log('üîî Push notification button clicked');\r\n      \r\n      // Jika sudah granted ‚Äî toggle unsubscribe atau test notification\r\n      if (Notification.permission === 'granted') {\r\n        const currentSub = await registration.pushManager.getSubscription();\r\n        if (currentSub) {\r\n          // Tampilkan test notification dulu sebelum unsubscribe\r\n          console.log('üîî Menampilkan test notification...');\r\n          try {\r\n            const basePath = getBasePath();\r\n            const iconPath = window.location.origin + basePath + '/images/logo.png';\r\n            console.log('Icon path:', iconPath);\r\n            \r\n            const notificationOptions = {\r\n              body: 'Ini adalah test notifikasi dari Story App!',\r\n              icon: iconPath,\r\n              badge: iconPath,\r\n              tag: 'test-notification-' + Date.now(),\r\n              requireInteraction: false,\r\n              vibrate: [200, 100, 200],\r\n            };\r\n            \r\n            console.log('Notification options:', notificationOptions);\r\n            await registration.showNotification('Test Notification', notificationOptions);\r\n            console.log('‚úÖ Test notification ditampilkan');\r\n            \r\n            // Tampilkan alert juga untuk memastikan user melihat feedback\r\n            setTimeout(() => {\r\n              const confirmUnsub = confirm('Test notification berhasil! Apakah Anda ingin menonaktifkan notifikasi?');\r\n              if (!confirmUnsub) {\r\n                updateUI();\r\n                return;\r\n              }\r\n              \r\n              // Lanjut unsubscribe\r\n              handleUnsubscribe(currentSub);\r\n            }, 500);\r\n            return;\r\n          } catch (notifErr) {\r\n            console.error('‚ùå Gagal menampilkan test notification:', notifErr);\r\n            alert('Error: ' + notifErr.message + '\\n\\nLihat console untuk detail.');\r\n            // Tetap lanjutkan unsubscribe meskipun test notification gagal\r\n          }\r\n          \r\n          // Function untuk handle unsubscribe\r\n          async function handleUnsubscribe(sub) {\r\n            try {\r\n              await unsubscribeFromPushNotifications();\r\n              alert('‚úÖ Notifikasi telah dinonaktifkan.');\r\n              await updateUI();\r\n            } catch (err) {\r\n              console.error('Error during unsubscribe:', err);\r\n              alert('Error saat menonaktifkan notifikasi: ' + err.message);\r\n            }\r\n          }\r\n          \r\n          // Jika test notification gagal, langsung unsubscribe\r\n          await handleUnsubscribe(currentSub);\r\n          return;\r\n        } else {\r\n          // Permission granted tapi belum subscribe, langsung subscribe\r\n          console.log('Permission granted, subscribing...');\r\n        }\r\n      }\r\n      \r\n      // Request permission\r\n      console.log('Requesting notification permission...');\r\n      const perm = await Notification.requestPermission();\r\n      console.log('Notification permission:', perm);\r\n      \r\n      if (perm !== 'granted') {\r\n        alert('Izin notifikasi tidak diberikan. Silakan aktifkan di pengaturan browser.');\r\n        await updateUI();\r\n        return;\r\n      }\r\n      \r\n      // Tampilkan test notification setelah permission granted\r\n      console.log('üîî Menampilkan test notification setelah permission granted...');\r\n      try {\r\n        const basePath = getBasePath();\r\n        const iconPath = window.location.origin + basePath + '/images/logo.png';\r\n        console.log('Icon path:', iconPath);\r\n        \r\n        const notificationOptions = {\r\n          body: 'Anda akan menerima notifikasi dari Story App.',\r\n          icon: iconPath,\r\n          badge: iconPath,\r\n          tag: 'notification-enabled-' + Date.now(),\r\n          vibrate: [200, 100, 200],\r\n        };\r\n        \r\n        console.log('Notification options:', notificationOptions);\r\n        await registration.showNotification('Notifikasi Diaktifkan!', notificationOptions);\r\n        console.log('‚úÖ Test notification ditampilkan setelah permission granted');\r\n      } catch (notifErr) {\r\n        console.error('‚ùå Gagal menampilkan test notification:', notifErr);\r\n        // Jangan block flow, tetap lanjutkan\r\n      }\r\n      \r\n      // Subscribe menggunakan fungsi subscribeToPushNotifications\r\n      finalToggle.textContent = '‚è≥ Memproses...';\r\n      finalToggle.disabled = true;\r\n      \r\n      try {\r\n        await subscribeToPushNotifications();\r\n        console.log('‚úÖ Push notification subscription berhasil!');\r\n        \r\n        // Tampilkan notifikasi sukses\r\n        console.log('üîî Menampilkan notifikasi sukses...');\r\n        try {\r\n          const basePath = getBasePath();\r\n          const iconPath = window.location.origin + basePath + '/images/logo.png';\r\n          const notificationOptions = {\r\n            body: 'Anda akan menerima notifikasi dari Story App.',\r\n            icon: iconPath,\r\n            badge: iconPath,\r\n            tag: 'subscription-success-' + Date.now(),\r\n            vibrate: [200, 100, 200],\r\n          };\r\n          console.log('Success notification options:', notificationOptions);\r\n          await registration.showNotification('Notifikasi Berhasil Diaktifkan!', notificationOptions);\r\n          console.log('‚úÖ Success notification ditampilkan');\r\n        } catch (notifErr) {\r\n          console.error('‚ùå Gagal menampilkan success notification:', notifErr);\r\n        }\r\n        \r\n        alert('‚úÖ Notifikasi berhasil diaktifkan! Anda akan menerima notifikasi dari server.');\r\n      } catch (err) {\r\n        console.error('‚ùå Failed to subscribe:', err);\r\n        alert('Terjadi kesalahan saat menyiapkan notifikasi: ' + err.message + '\\n\\nLihat console untuk detail.');\r\n      }\r\n      \r\n      finalToggle.disabled = false;\r\n      await updateUI();\r\n    } catch (err) {\r\n      console.error('‚ùå Error in push toggle handler:', err);\r\n      alert('Terjadi kesalahan saat menyiapkan notifikasi: ' + err.message + '\\n\\nLihat console untuk detail.');\r\n      finalToggle.disabled = false;\r\n      await updateUI();\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * Inisialisasi push notification saat app load\r\n */\r\nexport async function initializePushNotifications() {\r\n  if (!('serviceWorker' in navigator) || !('PushManager' in window)) {\r\n    return;\r\n  }\r\n  \r\n  // Verifikasi VAPID key saat inisialisasi\r\n  verifyVapidKey();\r\n  \r\n  // Cek apakah sudah subscribe\r\n  const isSubscribed = await isSubscribedToPushNotifications();\r\n  if (!isSubscribed) {\r\n    // Auto-subscribe saat login (akan dipanggil setelah user login)\r\n    const token = localStorage.getItem('authToken') || localStorage.getItem('token');\r\n    if (token) {\r\n      try {\r\n        await subscribeToPushNotifications();\r\n      } catch (err) {\r\n        console.warn('Auto-subscribe failed:', err);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Inisialisasi tombol push notification saat DOM ready\r\nfunction initPushButton() {\r\n  // Pastikan body sudah ada\r\n  if (document.body) {\r\n    createPushButton();\r\n  } else {\r\n    // Tunggu body ready\r\n    if (document.readyState === 'loading') {\r\n      document.addEventListener('DOMContentLoaded', () => {\r\n        createPushButton();\r\n      });\r\n    } else {\r\n      // Fallback jika sudah loaded\r\n      setTimeout(() => {\r\n        if (document.body) {\r\n          createPushButton();\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n}\r\n\r\n// Panggil segera saat module di-load - BUAT TOMBOL SEGERA\r\nif (typeof document !== 'undefined') {\r\n  // Coba buat tombol segera tanpa menunggu\r\n  const tryCreateButton = () => {\r\n    if (!document.getElementById('push-toggle')) {\r\n      createPushButton();\r\n    }\r\n  };\r\n  \r\n  // Coba buat tombol segera\r\n  if (document.body) {\r\n    tryCreateButton();\r\n  } else if (document.readyState === 'complete' || document.readyState === 'interactive') {\r\n    setTimeout(tryCreateButton, 0);\r\n  } else {\r\n    document.addEventListener('DOMContentLoaded', tryCreateButton);\r\n  }\r\n  \r\n  // Juga panggil saat window load untuk memastikan\r\n  window.addEventListener('load', () => {\r\n    // Pastikan tombol ada dan terlihat\r\n    const btn = document.getElementById('push-toggle');\r\n    if (!btn) {\r\n      console.log('‚ö†Ô∏è Push button not found on load, creating now...');\r\n      createPushButton();\r\n    } else {\r\n      console.log('‚úÖ Push button already exists');\r\n      // Pastikan tombol terlihat\r\n      btn.style.display = 'block';\r\n      btn.style.visibility = 'visible';\r\n      btn.style.opacity = '1';\r\n    }\r\n  });\r\n  \r\n  // Fallback: coba lagi setelah 1 detik, 2 detik, dan 3 detik\r\n  [1000, 2000, 3000].forEach(delay => {\r\n    setTimeout(() => {\r\n      const btn = document.getElementById('push-toggle');\r\n      if (!btn) {\r\n        console.log(`‚ö†Ô∏è Push button still not found after ${delay}ms, creating now...`);\r\n        createPushButton();\r\n      } else {\r\n        // Pastikan tombol terlihat\r\n        btn.style.display = 'block';\r\n        btn.style.visibility = 'visible';\r\n        btn.style.opacity = '1';\r\n      }\r\n    }, delay);\r\n  });\r\n}\r\n"],"names":["BASE_URL","VAPID_PUBLIC_KEY","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","window","atob","outputArray","Uint8Array","charCodeAt","getVapidPublicKey","CONFIG","verifyVapidKey","key","console","error","warn","test","testArray","log","concat","message","subscribeToPushNotifications","_subscribeToPushNotifications","_callee","registration","maxWaitTime","startTime","existingSubscription","permission","vapidPublicKey","applicationServerKey","subscription","token","subscriptionJson","response","errorData","errorMessage","result","_t2","_t4","_t5","_t6","_context","navigator","Error","location","protocol","hostname","Date","now","serviceWorker","ready","setTimeout","pushManager","getSubscription","Notification","requestPermission","keyLength","convertedBytes","expectedBytes","keyPreview","substring","subscribe","userVisibleOnly","name","includes","localStorage","getItem","toJSON","setItem","JSON","stringify","fetch","method","headers","body","endpoint","keys","p256dh","auth","ok","json","status","toString","unsubscribeFromPushNotifications","_unsubscribeFromPushNotifications","_callee2","_t7","_t8","_context2","unsubscribe","removeItem","isSubscribedToPushNotifications","_isSubscribedToPushNotifications","_callee3","_t9","_context3","testNotification","_testNotification","_callee4","basePath","_t0","_context4","pathname","lastSlash","lastIndexOf","getBasePath","showNotification","icon","badge","tag","requireInteraction","pathParts","split","filter","repoName","createPushButton","toggle","document","getElementById","createElement","id","setAttribute","className","style","position","right","bottom","zIndex","padding","backgroundColor","color","border","borderRadius","cursor","boxShadow","fontSize","fontWeight","display","visibility","textContent","appendChild","observer","MutationObserver","mutations","obs","disconnect","observe","documentElement","childList","subtree","initPush","_x","_initPush","_callee8","updateUI","_updateUI","newToggle","finalToggle","_t16","_context8","_callee7","sub","_t15","_context7","disabled","opacity","cloneNode","parentNode","replaceChild","addEventListener","_callee6","currentSub","handleUnsubscribe","iconPath","notificationOptions","perm","_basePath","_iconPath","_notificationOptions","_basePath2","_iconPath2","_notificationOptions2","_t10","_t11","_t12","_t13","_t14","_context6","_ref2","_callee5","_t1","_context5","alert","_x2","origin","vibrate","confirm","initializePushNotifications","_initializePushNotifications","_callee9","_t17","_context9","tryCreateButton","readyState","btn","forEach","delay"],"sourceRoot":""}